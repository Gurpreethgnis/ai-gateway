# Railway deployment config
# With no Dockerfile in repo root, Railway uses Railpack (Nixpacks-style) and runs Procfile.
# To use Docker again: rename Dockerfile.railway-docker to Dockerfile, or set
#   RAILWAY_DOCKERFILE_PATH=Dockerfile.railway-docker  and  builder = "DOCKERFILE"

[build]
builder = "RAILPACK"

[deploy]
preDeployCommand = "python run_migration.py"
startCommand = "sh start.sh"
healthcheckPath = "/live"
healthcheckTimeout = 600
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 3
